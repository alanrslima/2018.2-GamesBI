\
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="../assets/img/favicon.ico">
    <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>GamesBI - Documentação</title>

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

    <!-- Bootstrap core CSS     -->
    <link href="../assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../assets/css/paper-kit.css?v=2.1.0" rel="stylesheet" />

    <!--  CSS for Demo Purpose, don't include it in your project     -->
    <link href="../assets/css/demo.css" rel="stylesheet" />

    <!--     Fonts and icons     -->
    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,300,700' rel='stylesheet' type='text/css'>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link href="../assets/css/nucleo-icons.css" rel="stylesheet" />

</head>

<body>
    <nav class="navbar navbar-expand-md fixed-top " color-on-scroll="500">
        <div class="container">
            <div class="navbar-translate">
                <button class="navbar-toggler navbar-toggler-right navbar-burger" type="button" data-toggle="collapse"
                    data-target="#navbarToggler" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-bar"></span>
                </button>
                <a class="navbar-brand" href="https://fga-eps-mds.github.io/2018.2-GamesBI/">GamesBI</a>
            </div>
            <div class="collapse navbar-collapse" id="navbarToggler">
                <ul class="navbar-nav ml-auto">



                  <div class="nav-item dropdown">
                      <a class="nav-link dropdown-toggle" data-toggle="dropdown" id="dropdownMenuButton" href="#pk"
                          role="button" aria-haspopup="true" aria-expanded="false"><i class="nc-icon nc-single-copy-04"></i>Documentação
                      </a>
                      <ul class="dropdown-menu dropdown-info" aria-labelledby="dropdownMenuButton">
                        <li class="dropdown-header">Documentação do projeto</li>
                        <a class="dropdown-item" href="../abertura/index.html"> <i class="nc-icon nc-paper"></i> Abertura </a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../especificacao/index.html"> <i class="nc-icon nc-paper"></i> Especificação</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../viabilidade/index.html"> <i class="nc-icon nc-paper"></i> Viabilidade técnica</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../usabilidade/index.html"> <i class="nc-icon nc-paper"></i> Usabilidade</a>
                  </div>



                  <li class="nav-item">
                      <a href="../sprints/index.html" target="_blank" class="nav-link"><i class="nc-icon nc-chart-bar-32"></i>Sprints</a>
                  </li>

                  <li class="nav-item">
                      <a class="nav-link" rel="tooltip" title="Star on GitHub" data-placement="bottom" href="https://github.com/fga-eps-mds/2018.2-GameColorBI"
                          target="_blank">
                          <i class="fa fa-github"></i>
                          <p class="d-lg-none">GitHub</p>
                      </a>
                  </li>
              </ul>
          </div>
      </div>
  </nav>

  </div>
  <div class="main main-raised">
      <div class="section section-basic">
          <div class="container">

              <div class="section section-white">
                  <div class="container">
                      <div id="title">

                          <h3>Viabilidade</h3>
                          <br>
                      </div>


                      <div class="row">
                          <div class="col-lg-12 col-md-12">
                              <ul class="nav nav-pills nav-pills-icons" role="tablist">
                                  <!--color-classes: "nav-pills-primary" "nav-pills-info",
                    "nav-pills-success", "nav-pills-warning","nav-pills-danger"-->
                                  <li class="nav-item">
                                      <a class="nav-link  " href="index.html  ">
                                          <i class="nc-icon nc-vector"></i> Metodologia
                                      </a>
                                  </li>
                                  <li class="nav-item">
                                      <a class="nav-link" href="ritos.html">
                                          <i class="nc-icon nc-tile-56"></i> Ritos adotados
                                      </a>
                                  </li>
                                  <li class="nav-item">
                                      <a class="nav-link" href="analise-de-mercado.html">
                                          <i class="nc-icon nc-tile-56"></i> Análise de mercado
                                      </a>
                                  </li>
                                  <li class="nav-item">
                                      <a class="nav-link" href="metricas.html">
                                          <i class="nc-icon nc-map-big"></i> Métricas e indicadores
                                      </a>
                                  </li>
                                  <li class="nav-item">
                                      <a class="nav-link" href="roadmaps.html">
                                          <i class="nc-icon nc-map-big"></i> Roadmaps
                                      </a>
                                  </li>
                              </ul> 


                          </div>
                      </div>
                      <br>

                      <div class="row">
                          <div class="col-lg-12 col-md-12">
                              <ul class="nav nav-pills nav-pills-icons" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" href="Pipeline.html">
                                        <i class="nc-icon nc-map-big"></i> Pipeline DevOps
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="riscos.html">
                                        <i class="nc-icon nc-map-big"></i> Planejamento de riscos
                                    </a>
                                </li>

                            </ul>

                          </div>
                      </div>

                          </div>
                      </div>


                        <div class="tab-content tab-space">

                            <div class="tab-pane active" id="eap">

                                <h2 align="center"> Pipeline DevOps </h2>
                                <br>
                                <br>



                                <h3><a id="Sumrio_9"></a>Sumário</h3>
<hr>
<ul>
<li>1  <a href="#1-introdu%C3%A7%C3%A3o">Introdução</a></li>
<li>2  <a href="#2-integra%C3%A7%C3%A3o-cont%C3%ADnua">Integração contínua</a>
<ul>
<li>2.1 <a href="#21-pol%C3%ADticas-de-commit">Políticas de commit</a></li>
<li>2.2 <a href="#22-pol%C3%ADticas-de-branches">Políticas de branches</a></li>
<li>2.3 <a href="#23-folha-de-estilo-e-testes">Folha de estilo e Testes</a></li>
<li>2.4 <a href="#24-pull-requests">Pull requests</a></li>
<li>2.5 <a href="#25-builds">Builds</a></li>
<li>2.6 <a href="#26-ferramentas-utilizadas">Ferramentas utilizadas</a></li>
<li>2.7 <a href="#27-ambientes">Ambientes</a></li>
<li>2.8 <a href="#28-servi%C3%A7os">Serviços</a></li>
</ul>
</li>
<li>3  <a href="#3-deploy-cont%C3%ADnuo">Deploy Contínuo</a>
<ul>
<li>3.1  <a href="#31-pipeline">Pipeline</a></li>
</ul>
</li>
</ul>
<hr>
<h2><a id="1_Introduo_27"></a>1. Introdução</h2>
<p>Este documento visa apresentar todas as políticas adotadas pela equipe para atingir a integração contínua e o deploy contínuo da aplicação. Tendo isso em vista, este documento irá ser dividido em duas partes, visando a melhor apresentação das informações. A primeira parte do documento irá ser apresentado como foi realizado a integração contínua, e na segunda parte, o deploy contínuo.</p>
<h2><a id="2_Integrao_contnua_31"></a>2. Integração contínua</h2>
<p>A integração contínua visa promover um desenvolvimento fluído, no qual cada desenvolvedor consiga integrar o código desenvolvido na mesma frequência com que as funcionalidades são desenvolvidas. Para isso, utilizamos várias ferramentas e políticas que irão ser explicadas mais detalhadamente adiante.</p>
<h3><a id="21_Polticas_de_commit_35"></a>2.1 Políticas de commit</h3>
<p>A estrutura do commit é dado pelas seguintes regras:</p>
<pre><code class="language-bash">[&lt;<span class="hljs-number">1</span>&gt;] <span class="hljs-comment">#&lt;2&gt; &lt;3&gt;</span>
</code></pre>
<ul>
<li>Onde &lt;1&gt; é a operação feita:
<ul>
<li>[ADD] - Quando novo código/feature é adicionada ao repositório</li>
<li>[DEL] - Quando código/feature é deletada</li>
<li>[UPDATE] - Quando código/feature existente é atualizada ou refatorada</li>
<li>[DOC] - Quando for relacionado à documentação do projeto</li>
<li>[FIX] - Correção de bugs, código quebrado, etc</li>
<li>[HOTFIX] - Correção de bugs críticos, que já se encontram no ambiente de homologação ou produçãoc</li>
</ul>
</li>
<li>&lt;2&gt; o número da issue relacionada e caso esteja em um repositório diferente do repositório onde se encontram as issues, adicionar fga-eps-mds/2018.2-GamesBI</li>
<li>&lt;3&gt; Texto explicativo sobre o que foi realizado:
<ul>
<li>Todos os textos em INGLÊS</li>
</ul>
</li>
</ul>
<h3><a id="22_Polticas_de_branches_50"></a>2.2 Políticas de branches</h3>
<p>Para a política de branches, utilizamos seguir o padrão utilizado pelo gitflow, que utiliza as seguintes branches:</p>
<ul>
<li><strong>master</strong>, é utlizada para guardar a história oficial de releases do software, no qual está contido a versão mais recente e estável da aplicação. Essa é a branch utilizada como ambiente de produção.</li>
<li><strong>develop</strong>, é utilizada para a integração de todas as features desenvolvidas neste novo insumo de código. Essa é a branch utilizada como ambiente de homologação.</li>
<li><strong>feature</strong>, é utilizada para a codificação da feature em questão.
<ul>
<li>A nomeação dessa feature é dada da seguinte forma: feature_#0, no qual #0 é o número da issue(ex: feature_#23, caso a issue em questão seja a issue de número 23).</li>
<li>Essa branch deve ter como base a develop.</li>
<li>Assim que a feature for completa, ela é integrada devolta à branch develop.</li>
</ul>
</li>
<li><strong>release</strong>, é utilizada após o insumo de código estiver apropriado para ser lançado como uma novo release. É possível realizar ajustes rápidos para poder ser lançado como uma nova release. Assim que estiver pronta, esta branch è integrada à master e à develop.</li>
<li><strong>hotfix</strong>, caso haja algum problema urgente, é criado essa branch para realizar ajustes e logo após integrar à master.</li>
</ul>
<h3><a id="23_Folha_de_estilo_e_Testes_62"></a>2.3 Folha de estilo e Testes</h3>
<p>Uma folha de estilo é necessária para garantir a qualidade do código desenvolvido. Visto que todas as API’s que iremos desenvolver irão ser feitas em python, a folha de estilo que decidimos utilizar é o PEP8, que é considerada padrão para projetos em python. Utilizando a ferramenta Code Climate, é possível verificar, a cada insumo de código, se o mesmo segue o padrão definido pelo PEP8.</p>
<p>Em relação aos testes, possuímos uma métrica bastante importante, que é a cobertura de teste. Essa métrica é capaz de garantir a por centagem de código testado na aplicação. Para gerarmos e controlarmos essa métrica, utilizamos o Coveralls, bastante parecido com o Code Climate, no sentido de que a cada insumo de código, também é gerado um relatório identificando o aumento ou a diminuição da cobertura de testes.</p>
<h3><a id="24_Pull_requests_67"></a>2.4 Pull requests</h3>
<p>Após a codificação de uma história de usuário, o desenvolvedor deverá abrir um pull request a partir de sua branch em relação à branch master do repositório oficial. Todos os pull requests deverão seguir um template já definido dentro do repositório, descrevendo as alterações que foram realizadas assim como as issues relacionadas à esse pull request.</p>
<p>Depois da criação do pull request, todos os CI’s que estamos utilizando deverão dar um visto, afirmando que essas alterações seguem a folha de estilo definida, não houve uma diminuição da cobertura de teste e se a build está sendo criada corretamente. Em seguida, ao passar em todos os vistos, o pull request necessitará de um reviewer para aprovar as alterações feitas. Com isso feito, o pull request estará pronto a ser aceito na master.</p>
<h3><a id="25_Builds_72"></a>2.5 Builds</h3>
<p>Como dito anteriormente, as builds são geradas ao final de cada pull request, à fim de testar a criação desses insumos de código. Caso esse passo ou qualquer um dos outros CI’s dê algum tipo de problema, essas ferramentas irão informar aos mantenedores do repositório via email e pelo próprio pull request também.</p>
<h3><a id="26_Ferramentas_utilizadas_75"></a>2.6 Ferramentas utilizadas</h3>
<ul>
<li>Travis CI: Ferramenta de build para a integração contínua</li>
<li>Coveralls: Ferramenta de análise de cobertura de código</li>
<li>Codeclimate: Ferramenta de análise de qualidade de código</li>
<li>Docker e docker-compose: Ferramenta de conteinerização utilizada para construir os ambientes necessários (desenvolvimento, testes, homologação e produção).</li>
</ul>
<h3><a id="27_Ambientes_82"></a>2.7 Ambientes</h3>
<p>Existirá, ao todo, 4 ambientes. São eles:</p>
<ul>
<li>Desenvolvimento</li>
<li>Testes</li>
<li>Homologação</li>
<li>Produção</li>
</ul>
<p>Os ambientes de homologação e de produção irão ser atualizados sempre ao fim da sprint, ou seja, uma vez por semana, com exceção dos casos que se faça necessário utilizar hotfixes para atualização de um bug urgente dentro de um desses ambientes.</p>
<p>O ambiente de desenvolvimento é exclusivo para cada desenvolvedor, cabe a ele utilizar do docker e docker-compose disponível no repositório para subir o seu próprio ambiente de desenvolvimento.</p>
<h3><a id="28_Servios_93"></a>2.8 Serviços</h3>
<p>A aplicação desenvolvida irá consistir de apenas 3 serviços. Os serviços implementados são: uma API escrita em django, que se comunica diretamente com o front-end, um front-end escrito em React.js e por fim um worker escrito em python que utiliza o celery para realizar a importação de dados diariamente</p>
<h2><a id="3_Deploy_Contnuo_98"></a>3. Deploy Contínuo</h2>

<p>Como dito anteriormente, existem 2 ambientes de deploy, homologação e produção. Ambos os ambientes se encotram no heroku.</p>
<p>Após o desenvolvedor escolher uma história e codifica-la e abrir um PR com sua modificação para a develop, os CI's irão executar suas análises e comentar suas respectivas análises no PR aberto.</p>
<p>Um mantenedor deverá revisar o insumo de código e caso haja necessidade de modificações, requisitar elas. Caso contrário, o PR é aprovado e o insumo de código é adicionado à develop</p>
<p>Após o travis realizar a build desse novo insumo de código na develop, ele realiza o deploy para o ambiente de homologação</p>
<p>Ao final da sprint é realizado um PR da develop para a master. Assim que esse novo insumo chegar na master, e o travis concluir a build, o deploy é realizado para o ambiente de produção</p>
<p>Todos os ambientes de homologação e produção são feitos à partir de uma imagem gerada pelo travis, com exceção do repositório do front-end, que é executado diretamente pela build gerada pelo npm</p>

<h3><a id="31_Pipeline_100"></a>3.1 Pipeline</h3>
<center> <img src="https://i.imgur.com/OP36tMy.png" height="80%"> </center>

                            </div>

                        </div>


                        <br /><br />

                        <footer class="footer">
                            <div class="container">
                                <div class="row">
                                    <nav class="footer-nav">
                                        <ul>
                                            <li><a href="http://www.creative-tim.com">Creative Tim</a></li>
                                            <li><a href="http://blog.creative-tim.com">Blog</a></li>
                                            <li><a href="http://www.creative-tim.com/license">Licenses</a></li>
                                        </ul>
                                    </nav>
                                    <div class="credits ml-auto">
                                        <span class="copyright">
                                            © <script>
                                                document.write(new Date().getFullYear())
                                            </script>, made with <i class="fa fa-heart heart"></i> by Creative Tim
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </footer>
</body>

<!-- Core JS Files -->
<script src="../assets/js/jquery-3.2.1.js" type="text/javascript"></script>
<script src="../assets/js/jquery-ui-1.12.1.custom.min.js" type="text/javascript"></script>
<script src="../assets/js/popper.js" type="text/javascript"></script>
<script src="../assets/js/bootstrap.min.js" type="text/javascript"></script>

<!-- Switches -->
<script src="../assets/js/bootstrap-switch.min.js"></script>

<!--  Plugins for Slider -->
<script src="../assets/js/nouislider.js"></script>

<!--  Plugins for DateTimePicker -->
<script src="../assets/js/moment.min.js"></script>
<script src="../assets/js/bootstrap-datetimepicker.min.js"></script>

<!--  Paper Kit Initialization and functons -->
<script src="../assets/js/paper-kit.js?v=2.1.0"></script>

</html>
